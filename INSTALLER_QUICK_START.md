# Centisky å®‰è£…ç¨‹åºå¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5 åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Windows 10 æˆ–æ›´é«˜ç‰ˆæœ¬
- Python 3.7+ å·²å®‰è£…
- **Inno Setup 6** å·²å®‰è£…ï¼ˆ[ä¸‹è½½](https://jrsoftware.org/isdl.php)ï¼‰

### ä¸€é”®æ„å»ºå®‰è£…ç¨‹åº

```bash
build_installer_auto.bat
```

å®Œæˆåï¼Œå®‰è£…ç¨‹åºå°†åœ¨ `dist/` æ–‡ä»¶å¤¹ä¸­ã€‚

---

## ğŸ“¦ å‘å¸ƒæ–°ç‰ˆæœ¬ï¼ˆå®Œæ•´æµç¨‹ï¼‰

### 1ï¸âƒ£ æ›´æ–°ç‰ˆæœ¬å·

ç¼–è¾‘ `version.txt`ï¼š
```
1.0.1
```

### 2ï¸âƒ£ æ„å»ºå®‰è£…ç¨‹åº

```bash
build_installer_auto.bat
```

ç­‰å¾…å®Œæˆï¼Œè¾“å‡ºæ–‡ä»¶ï¼š`dist/Centisky-Setup-1.0.1.exe`

### 3ï¸âƒ£ åˆ›å»º GitHub Release

æ‰“å¼€ https://github.com/Benji-Xu/Centisky/releases

1. ç‚¹å‡» "Create a new release"
2. å¡«å†™ï¼š
   - **Tag**: `v1.0.1`
   - **Title**: `Centisky v1.0.1`
   - **Description**: æ›´æ–°è¯´æ˜ï¼ˆæ”¯æŒ Markdownï¼‰
3. ä¸Šä¼  `dist/Centisky-Setup-1.0.1.exe`
4. ç‚¹å‡» "Publish release"

### 4ï¸âƒ£ å®Œæˆï¼

ç”¨æˆ·æ‰“å¼€åº”ç”¨æ—¶ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ–°ç‰ˆæœ¬ï¼Œå¼¹çª—æç¤ºæ›´æ–°ã€‚

---

## ğŸ”„ è‡ªåŠ¨æ›´æ–°å·¥ä½œåŸç†

```
ç”¨æˆ·å¯åŠ¨åº”ç”¨
    â†“
åå°æ£€æŸ¥ GitHub æœ€æ–°ç‰ˆæœ¬
    â†“
å‘ç°æ–°ç‰ˆæœ¬ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ å¼¹çª—æç¤º
    â”‚       â”œâ”€ ç”¨æˆ·ç‚¹å‡»"æ˜¯" â†’ æ‰“å¼€ä¸‹è½½é¡µé¢
    â”‚       â””â”€ ç”¨æˆ·ç‚¹å‡»"å¦" â†’ ç»§ç»­ä½¿ç”¨
    â””â”€ å¦ â†’ æ­£å¸¸å¯åŠ¨åº”ç”¨
```

### å…³é”®ç‰¹æ€§

âœ… **è‡ªåŠ¨æ£€æµ‹** - å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥  
âœ… **åå°è¿è¡Œ** - ä¸é˜»å¡ä¸»ç¨‹åº  
âœ… **æ™ºèƒ½æç¤º** - åªåœ¨æœ‰æ–°ç‰ˆæœ¬æ—¶æç¤º  
âœ… **ç”¨æˆ·é€‰æ‹©** - ç”¨æˆ·å†³å®šæ˜¯å¦æ›´æ–°  
âœ… **ç½‘ç»œå®¹é”™** - ç½‘ç»œé”™è¯¯æ—¶è‡ªåŠ¨è·³è¿‡  

---

## ğŸ“‹ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `version.txt` | å½“å‰ç‰ˆæœ¬å· |
| `installer.iss` | Inno Setup é…ç½®æ–‡ä»¶ |
| `build_installer_auto.bat` | ä¸€é”®æ„å»ºè„šæœ¬ |
| `program/update_checker.py` | è‡ªåŠ¨æ›´æ–°æ£€æŸ¥æ¨¡å— |
| `program/launcher.py` | ä¸»ç¨‹åºå¯åŠ¨å™¨ |
| `dist/` | è¾“å‡ºç›®å½•ï¼ˆå®‰è£…ç¨‹åºï¼‰ |

---

## ğŸ› ï¸ å¸¸è§ä»»åŠ¡

### åªæ„å»º EXEï¼ˆä¸ç”Ÿæˆå®‰è£…ç¨‹åºï¼‰

```bash
build_exe.bat
```

### æµ‹è¯•æ›´æ–°æ£€æŸ¥åŠŸèƒ½

```bash
python program/update_checker.py
```

### ä¿®æ”¹æ›´æ–°æ£€æŸ¥é…ç½®

ç¼–è¾‘ `program/update_checker.py`ï¼š

```python
GITHUB_OWNER = "Benji-Xu"      # ä½ çš„ GitHub ç”¨æˆ·å
GITHUB_REPO = "Centisky"       # ä»“åº“å
```

### ç¦ç”¨è‡ªåŠ¨æ›´æ–°æ£€æŸ¥

ç¼–è¾‘ `program/launcher.py`ï¼Œæ³¨é‡Šæ‰ï¼š

```python
# check_for_updates_async()
```

---

## âš ï¸ æ•…éšœæ’é™¤

### é—®é¢˜ï¼šInno Setup æœªæ‰¾åˆ°

**è§£å†³**ï¼š
1. ä¸‹è½½ Inno Setup 6ï¼šhttps://jrsoftware.org/isdl.php
2. å®‰è£…åˆ°é»˜è®¤ä½ç½®ï¼š`C:\Program Files (x86)\Inno Setup 6\`
3. é‡æ–°è¿è¡Œ `build_installer_auto.bat`

### é—®é¢˜ï¼šPyInstaller æ„å»ºå¤±è´¥

**è§£å†³**ï¼š
```bash
pip install --upgrade pyinstaller
python -m PyInstaller --version
```

### é—®é¢˜ï¼šç”¨æˆ·æ²¡æœ‰æ”¶åˆ°æ›´æ–°æç¤º

**æ£€æŸ¥**ï¼š
- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- GitHub ä»“åº“æ˜¯å¦å…¬å¼€
- ç‰ˆæœ¬å·æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆå¿…é¡»æ˜¯ `v1.0.0` æ ¼å¼ï¼‰
- æŸ¥çœ‹åº”ç”¨æ—¥å¿—

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- å®Œæ•´æŒ‡å—ï¼š[GITHUB_RELEASE_GUIDE.md](GITHUB_RELEASE_GUIDE.md)
- å®‰è£…ç¨‹åºé…ç½®ï¼š[installer.iss](installer.iss)
- æ›´æ–°æ£€æŸ¥æºç ï¼š[program/update_checker.py](program/update_checker.py)

---

## ğŸ’¡ æç¤º

1. **ç‰ˆæœ¬å·è§„èŒƒ**ï¼šå§‹ç»ˆä½¿ç”¨ `major.minor.patch` æ ¼å¼
2. **å‘å¸ƒè¯´æ˜**ï¼šæä¾›æ¸…æ™°çš„æ›´æ–°è¯´æ˜ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°
3. **æµ‹è¯•å®‰è£…**ï¼šåœ¨å‘å¸ƒå‰åœ¨å¹²å‡€çš„ç³»ç»Ÿä¸Šæµ‹è¯•å®‰è£…ç¨‹åº
4. **å¤‡ä»½ç‰ˆæœ¬**ï¼šä¿ç•™æ‰€æœ‰å†å²ç‰ˆæœ¬åœ¨ GitHub Releases ä¸­

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… å®‰è£… Inno Setup 6
2. âœ… è¿è¡Œ `build_installer_auto.bat` æµ‹è¯•
3. âœ… åˆ›å»ºç¬¬ä¸€ä¸ª GitHub Release
4. âœ… éªŒè¯è‡ªåŠ¨æ›´æ–°åŠŸèƒ½

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹ [GITHUB_RELEASE_GUIDE.md](GITHUB_RELEASE_GUIDE.md) è·å–è¯¦ç»†è¯´æ˜ã€‚
