# 图片处理工具使用说明

---

## 功能概览

- 批量添加图片文件或整个文件夹。
- 按“分组”管理不同批次图片，分别指定输出目录。
- 支持以下几类处理：
  - **格式转换**：在 JPG / PNG 之间互转，可选是否压缩到指定体积。
  - **拼长图**：按顺序把多张图片竖直拼接为一张长图，可指定输出宽度。
  - **切片**：按像素高度或平均份数将长图切成多张小图。
  - **抠图**：批量生成透明背景图、白底图或两者都生成。

---

## 界面结构

- 顶部标题栏：
  - 左侧 `< 返回首页`：关闭当前工具，回到 Workit 启动器。
  - 中间标题：`图片处理工具`。
  - 右上角 `?`：打开本使用说明。
  - 右上角圆形按钮：切换深色 / 浅色主题。

- 左侧卡片：
  - **添加图片文件**：选择单个或多个图片文件。
  - **添加文件夹**：选择一个文件夹，将其中所有图片加入当前分组。
  - **清空列表**：清除当前所有已添加图片。
  - 标题行右上角齿轮按钮 `⚙`：选择当前分组的输出文件夹。

- 中间卡片（处理选项）：
  - 处理类型：
    - `格式转换`
    - `拼长图`
    - `切片`
    - `抠图`
  - 根据处理类型自动显示 / 隐藏对应参数行：
    - **输出格式**：JPG / PNG。
    - **输出宽度**（拼长图）：自动（使用第一张图宽度）或自定义像素宽度。
    - **切片方式**：按像素间隔切 / 平均切若干张。
    - **压缩设置**：目标大小 + 单位（KB / MB）。
    - **抠图方式**：抠图 + 白底、仅抠图、仅白底图。
  - 底部 `开始处理` 按钮：根据当前选项开始批量处理。

- 右侧卡片（图片列表）：
  - 以“分组”树形结构展示当前所有图片。
  - 支持：
    - 新建组
    - 合并组
    - 拖拽调整图片顺序（影响拼长图顺序）。

---

## 基本使用流程

1. 打开工具后，先在右侧图片列表中确认默认分组为“默认分组”。
2. 点击左侧“添加图片”或“添加文件夹”，导入需要处理的图片。
3. 如需区分不同任务批次，可以：
   - 在右侧卡片中点击“新建组”，
   - 选择对应的图片归入各自分组。
4. 在左侧“处理选项”中选择：
   - 处理类型（格式转换 / 拼长图 / 切片 / 抠图），
   - 并根据需要设置输出格式、压缩大小、宽度等参数。
5. 点击“开始处理”，等待进度完成，处理结果将保存到每个分组对应的输出目录下。

---

## 常见场景示例

### 1. 批量将 PNG 转为 JPG 并压缩到指定大小

1. 添加所有 PNG 图片。
2. 处理类型选择 `格式转换`。
3. 输出格式选择 `JPG`。
4. 压缩设置选择 `压缩`，输入目标大小（例如 500 KB），单位选择 `KB`。
5. 点击“开始处理”。

### 2. 将多张详情图拼成长图

1. 按想要的顺序添加图片（可在右侧列表拖拽排序）。
2. 处理类型选择 `拼长图`。
3. 输出宽度：
   - `自动（第一张）`：使用第一张图片宽度。
   - 或选择 `自定义` 并输入固定宽度（如 1080）。
4. 视情况开启或关闭压缩。
5. 点击“开始处理”。

### 3. 长图切片

1. 添加目标长图。
2. 处理类型选择 `切片`。
3. 切片方式：
   - 按像素：每 N 像素一张，例如“每 1000 像素切一张”。
   - 平均切：指定张数（如 5 张），工具会自动计算每张高度并显示预览提示。
4. 点击“开始处理”。

### 4. 批量抠图

1. 添加需要抠图的商品图。
2. 处理类型选择 `抠图`。
3. 选择抠图方式：
   - `抠图+白底图`
   - `仅抠图`
   - `仅白底图`
4. 点击“开始处理”。

> 注意：抠图质量依赖于外部抠图引擎（若有），部分复杂背景可能抠得不完美。

---

## 注意事项

- 输出目录：
  - 默认使用首次添加图片所在文件夹。
  - 每个分组都可以有自己的输出目录，处理完后会分别保存。
- 部分操作会占用较多内存和 CPU（尤其是大图拼接、强压缩等），处理时请耐心等待。
- 若处理过程中弹出错误提示，请根据提示检查：
  - 是否有无效的路径或已删除的文件；
  - 是否输入了非法参数（比如空字符串、非数字等）；
  - 当前账号是否有写入目标目录的权限。
