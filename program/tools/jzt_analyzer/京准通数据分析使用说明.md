# 京准通数据分析使用说明

## 功能概览

本工具用于分析京准通快车数据，支持**两周对比**、关键指标波动分析和可视化展示，帮助你快速评估投放效果，发现问题和机会。

## 数据要求

- 支持输入：
  - 京准通快车后台导出的 CSV 或 Excel 文件；
- 要求：
  - 第一列为时间字段（例如“点击时间”、“日期”等），后续列为各类指标（点击、花费、曝光、转化等）。

## 典型使用流程

1. **打开工具**
   - 在 Workit 首页点击“京准通数据分析”卡片。

2. **选择数据文件**
   - 在界面中点击 `选择文件` 按钮（实际按钮名称以界面为准）。
   - 选择京准通导出的 CSV 或 Excel 文件。

3. **识别周次**
   - 工具会自动解析第一列日期：
     - 支持标准日期格式（`YYYY-MM-DD`）和 `YYYYMMDD` 八位数字格式；
   - 将所有日期按周分组（周一~周日为一周）；
   - 得到若干“第1周、第2周...”的周次信息，并显示每周的数据天数和时间范围。

4. **选择对比周**
   - 在界面中选择：
     - `本周`：例如选择“第 N 周”；
     - `对比周`：例如选择“第 N-1 周”。
   - 若不选择，工具可自动使用最近两周作为对比。

5. **开始分析**
   - 点击 `开始分析` 按钮：
     - 工具会按照选择的两周，对各关键指标进行汇总与对比；
     - 指标包括但不限于：曝光、点击、点击率、花费、平均点击单价、转化数、转化率等（具体以实现为准）。

6. **查看分析结果**
   - 分析结果通常包括：
     - 每周汇总表（Week1 vs Week2）；
     - 指标变化百分比（环比/同比）；
     - 可视化图表（折线图、柱状图等，视界面实现而定）。
   - 结果可能在界面中展示，也可能导出为 Excel 或图片文件（视当前版本实现）。

## 进阶说明

### 日期解析逻辑

- 工具会对日期列执行统一解析：
  - 若是 8 位数字（如 `20251013`），按 `%Y%m%d` 解析；
  - 否则尝试用 `pandas.to_datetime` 自动识别；
  - 无法识别的行会被丢弃。

### 周次划分

- 以周一为一周的开始：
  - 例如某行日期是周三，则其所在周的起始日被视为当周周一，结束日为周日；
- 工具会按照时间顺序重新编号：
  - `第1周` = 文件中最早出现的一周；
  - `第2周` = 下一周，以此类推。

## 常见问题

### Q1. 提示“未找到有效的日期数据”

- 检查：
  - 第一列是否为日期/时间；
  - 日期格式是否被破坏（例如文本中包含其他字符）。
- 解决：
  - 在 Excel/CSV 中清洗日期列后重新导出；
  - 或在导出京准通报表时选择标准的日期字段。

### Q2. 如何扩展到多周趋势分析？

- 当前版本围绕“两周对比”设计：
  - 可以在界面层增加“多周趋势”视图，复用底层 `get_weeks_info` 的周次识别结果；
  - 也可以在导出结果中保留所有周的聚合数据，方便后续在 Excel 中自行作图。

---

如需增加更多平台/渠道的数据分析（如信息流或其它广告平台），可在需求中说明数据格式和期望指标，再基于此工具扩展。
